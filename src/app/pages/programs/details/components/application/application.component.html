<form class="flex flex-col gap-4" #applicationForm="ngForm" (ngSubmit)="onSubmit()">
  @for (input of generateInputsArray(jsonData()); track $index) {
    @if (input.type === 'textarea') {
      <mat-form-field class="w-full">
        <mat-label>{{ input.label }}</mat-label>
        <textarea
          matInput
          rows="8"
          [id]="input.name"
          [name]="input.name"
          [(ngModel)]="formData[input.name]"
          [required]="input.required">
        </textarea>
      </mat-form-field>
    } @else {
      <mat-form-field class="w-full">
        <mat-label>{{ input.label }}</mat-label>
        <input
          matInput
          autocomplete="off"
          [id]="input.name"
          [type]="input.type"
          [name]="input.name"
          [(ngModel)]="formData[input.name]"
          [required]="input.required" />
      </mat-form-field>
    }
  }
  <button
    class="mt-6 text-white w-1/3"
    mat-flat-button
    color="primary"
    type="submit"
    [disabled]="applicationForm.invalid">
    @if (false) {
      <mat-progress-spinner [diameter]="24" [mode]="'indeterminate'" />
    } @else {
      <span>Candidater</span>
    }
  </button>
</form>
